<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>EcoLearn Platform - Student Dashboard</title>
  
  <!-- Font Awesome for Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  
  <!-- Chart.js for Data Visualization -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.3/dist/chart.umd.min.js"></script>

  <!-- QRCode Library -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcode.js/1.0.0/qrcode.min.js"></script>

  <!-- External Stylesheet -->
  <link rel="stylesheet" href="css/style.css" />
</head>
<body>
  
  <!-- Sidebar Navigation -->
  <nav class="sidebar">
    <div class="logo">
      <i class="fas fa-leaf fa-2x"></i>
      <h2>EcoLearn</h2>
    </div>
    
    <div class="nav-section">
      <!-- MAIN NAVIGATION ITEMS -->
      <div class="nav-item dashboard" onclick="loadStudentContent('dashboard')">
        <i class="fas fa-home"></i>
        <span>Dashboard</span>
      </div>
      
      <div class="nav-item library" onclick="loadStudentContent('catalogue')">
        <i class="fas fa-layer-group"></i>
        <span>Library</span>
      </div>
      
      <div class="nav-item student-lessons" onclick="loadStudentContent('lessons')">
        <i class="fas fa-book-reader"></i>
        <span>My Lessons</span>
      </div>
      
      <div class="nav-item student-activities" onclick="loadStudentContent('activities')">
        <i class="fas fa-tasks"></i>
        <span>My Activities</span>
      </div>
      
      <div class="nav-item student-progress" onclick="loadStudentContent('progress')">
        <i class="fas fa-chart-bar"></i>
        <span>My Progress</span>
      </div>
      
    </div>
    
    <!-- FOOTER NAVIGATION SECTION -->
<div class="footer-nav-section">
      <div class="nav-item profile" onclick="loadStudentContent('profile')">
        <i class="fas fa-user-circle"></i>
        <span>Profile</span>
      </div>
      <div class="nav-item settings" onclick="loadStudentContent('settings')">
        <i class="fas fa-cog"></i>
        <span>Settings</span>
      </div>
      <div class="nav-item logout" onclick="handleLogout()">
        <i class="fas fa-sign-out-alt"></i>
        <span>Logout</span>
      </div>
    </div>
  </nav>

  <!-- Main Content Area -->
  <div class="main-content">
    <header class="header">
      <i class="fas fa-graduation-cap"></i>
      <h1>Student Learning Space</h1>
    </header>
    
    <div id="content">
      <!-- Dynamic content will load here -->
      <p class="welcome-text">Loading Student Dashboard...</p>
    </div>
  </div>

  <!-- MODAL: QR Scanner/Input Modal -->
  <div id="qrScannerModal" class="modal-overlay">
    <div class="modal-dialog">
        <div class="modal-header-content">
            <h3 class="score-detail-low">Scan or Enter Resource Code</h3>
            <button onclick="hideModal('qrScannerModal')" class="modal-close-btn">&times;</button>
        </div>
        
        <p class="subtitle modal-text-center">Use your camera or enter the code provided by your teacher to access content.</p>

        <!-- Placeholder for Camera Feed -->
        <div class="camera-placeholder">
            <i class="fas fa-camera fa-3x placeholder-icon"></i>
            <p class="subtitle">Placeholder for live camera QR scanning integration</p>
        </div>

        <form onsubmit="event.preventDefault(); customAlert('Accessing resource with code: ' + document.getElementById('resourceCode').value);">
            <div class="filter-group">
                <label for="resourceCode">Or Enter 6-Digit Code:</label>
                <input type="text" id="resourceCode" maxlength="6" required class="resource-input">
            </div>
            <button type="submit" class="apply-filter-btn primary">
                <i class="fas fa-play-circle"></i> Start Lesson/Activity
            </button>
        </form>
    </div>
  </div>
  <div id="editModal" class="modal-overlay">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header-content">
                <h3 style="color: var(--secondary-color);">Edit Profile</h3>
                <button class="modal-close-btn" onclick="closeEditModal()">&times;</button>
            </div>
            <h4 style="margin-bottom: 5px; color: var(--text-color);">Personal Details:</h4>
            <input type="text" id="editName" placeholder="Full Name" style="width: 100%; padding: 10px; margin-bottom: 10px; border: 1px solid #ccc; border-radius: 4px;">
            <input type="text" id="editRole" placeholder="Role (Student)" style="width: 100%; padding: 10px; margin-bottom: 10px; border: 1px solid #ccc; border-radius: 4px;">
            
            <h4 style="margin-top: 15px; margin-bottom: 5px; color: var(--text-color);">Profile Image (URL):</h4>
            <input type="url" id="editProfilePicUrl" placeholder="Paste image URL here (optional)" style="width: 100%; padding: 10px; margin-bottom: 10px; border: 1px solid #ccc; border-radius: 4px;">

            <h4 style="margin-top: 15px; margin-bottom: 5px; color: var(--text-color);">Contact Details:</h4>
            <input type="email" id="editEmail" placeholder="Email Address" style="width: 100%; padding: 10px; margin-bottom: 10px; border: 1px solid #ccc; border-radius: 4px;">
            <input type="text" id="editPhone" placeholder="Phone Number" style="width: 100%; padding: 10px; margin-bottom: 10px; border: 1px solid #ccc; border-radius: 4px;">
            <input type="text" id="editAddress" placeholder="Address" style="width: 100%; padding: 10px; margin-bottom: 10px; border: 1px solid #ccc; border-radius: 4px;">
            
            <div class="modal-buttons" style="text-align: right; margin-top: 15px;">
                <button class="cancel-btn action-small-btn archive-btn" onclick="closeEditModal()">Cancel</button>
                <button class="save-btn action-small-btn view-btn" onclick="saveProfile()">Save Changes</button>
            </div>
        </div>
    </div>
  </div>
  <!-- Load JavaScript -->
  <script src="scripts/student-dashboard.js"></script>
</body>
</html>